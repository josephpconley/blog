---
layout: post
type: post
tags: [lagom, Nicolas Nassim Taleb, chariot, microservices]
title: The Evolutions of Software Architecture
subtitle: Using microservices to build antifragile systems
published: true
---

As makers of software, we've come a long way.  We've emerged from the shadows of command-line tools and Swing-based apps to build great and terrible web-based platforms, monolithic systems that inspire fear and awe in user and maintainer alike.  Yet for all our cunning, we know we're still imprisoned by our great works.  Their slow builds, massive merge conflicts, and ever-increasing complexity slow the evolution of software and developer.  Yet this unrest gave birth to the idea of _microservices_.

A now ubiquitous term, microservices takes that age-old programming tenet of "do one thing, and do it well" and applies it in a larger context to the application as a whole.  We're no longer talking about encapsulating business logic in small methods or classes, but constraining the interactions of an entire context into an isolated, deployable, scalable unit.  An application no longer lives solely in the confines of a WAR file on a Tomcat server, but exists as the composition of several services working in concert.  The term "application" now seems almost quaint in contrast to the broad platforms we can devise.

This trend was almost inevitable in hindsight (as most trends are).  The rise of functional programming, with its focus on functions as first-class citizens and immutable state, encouraged developers to write smaller, simpler methods that compose rather than long, unwieldy algorithms.  Reactive programming also heralded a sea change in thinking about inter-service communication, with emphasis on asynchronous message-passing, back-pressure, and resilience.  Containerization provided another boost, literally encapsulating entire processes in portable, runnable environments.  These trends all enabled a microservices way of thinking.

So what great benefit, then, did we achieve from the microservices movement, other than some fancy new language to add to our resumes?  David Dawson captured the idea best when he [described the end goal of microservices as achieving Antifragility](http://www.simplicityitself.io/microservices/2016/07/20/microservices-philosophy.html).  This term was popularized by the stoic trader-turned-philosopher Nicolas Nassim Taleb in _Antifragile: Things That Gain from Disorder_.  Taleb uses examples from all walks of life (financial options, political organization, physical training) to enumerate the tuple of <Fragile, Robust, Antifragile> that can be used to describe systems.  A system under stress can either degrade (fragile), maintain normal operations (robust), or improve (antifragile).  Antifragility, then, is the true aim for microservices, a system that can handle failure gracefully and scale elastically to meet demand.  An ambitious goal, but one within reach given our current technology.

Will this journey from the familiarity of the monolith to the unknown of the microservices be easy?  No, there are always tradeoffs when making such choices.  Developers will face increased complexity in running and testing multiple services locally.  Architects will struggle to define appropriate boundaries for services.  Operations folks will now have _n_ builds to maintain and monitor instead of one.  Change won't come easy, but for most enterprise-level systems, the pros can outweigh the cons.

One such framework that is trying to make the implementation of microservices easier is [Lagom](http://www.lagomframework.com/).  Lagom is a very opinionated framework (which I think is good!), designed from the bottom-up to espouse the aforementioned principles of microservices, namely providing capabilities for service interaction, distributed persistence, and ease of development.  You can read more about [their philosophy](http://www.lagomframework.com/documentation/1.2.x/java/WhatIsLagom.html) and review a [sample application](https://github.com/lagom/activator-lagom-java-chirper) to understand their motivation.  In my next post, I'd like to use Lagom to answer one simple question: how do we actually _build_ antifragile systems?